<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.TextField?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<VBox xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.burstmeman.midi2keys.ui.controllers.FileBrowserController"
      spacing="12">
    
    <padding>
        <Insets topRightBottomLeft="16"/>
    </padding>
    
    <!-- Header with Root Directory Selector -->
    <HBox spacing="12" alignment="CENTER_LEFT">
        <Label text="MIDI Files" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
        <HBox HBox.hgrow="ALWAYS"/>
        <ComboBox fx:id="rootDirectoryCombo" 
                  promptText="Select Root Directory"
                  prefWidth="200"/>
    </HBox>
    
    <!-- Search Bar -->
    <TextField fx:id="searchField" 
               promptText="ðŸ” Search files..."
               maxWidth="Infinity"/>
    
    <!-- Breadcrumb Navigation -->
    <HBox spacing="8" alignment="CENTER_LEFT">
        <Button fx:id="navigateUpButton" 
                text="â¬†" 
                onAction="#onNavigateUp"
                disable="true"/>
        <HBox fx:id="breadcrumbContainer" spacing="4" alignment="CENTER_LEFT">
            <!-- Dynamic breadcrumbs -->
        </HBox>
    </HBox>
    
    <!-- File List (virtualized) -->
    <ListView fx:id="fileListView" VBox.vgrow="ALWAYS"/>
    
    <!-- Empty State (shown when no root directories) -->
    <VBox fx:id="emptyStateContainer" 
          spacing="16" 
          alignment="CENTER"
          visible="false" managed="false"
          VBox.vgrow="ALWAYS">
        <Label text="ðŸŽ¹" style="-fx-font-size: 48px;"/>
        <Label text="No MIDI Files" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
        <Label text="Add a root directory in Settings to browse your MIDI collection" style="-fx-text-fill: gray;"/>
    </VBox>
    
    <!-- Status Bar -->
    <HBox spacing="8" alignment="CENTER_LEFT">
        <Label fx:id="statusLabel" text="Ready" style="-fx-font-size: 12px; -fx-text-fill: gray;"/>
    </HBox>
</VBox>
